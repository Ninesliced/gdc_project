[gd_scene load_steps=9 format=3 uid="uid://1713ucjydt4a"]

[ext_resource type="PackedScene" uid="uid://dy30yy5axn8vr" path="res://entities/player/turn_ship.tscn" id="1_40l4n"]
[ext_resource type="PackedScene" uid="uid://brfq32hg5bfi2" path="res://entities/enemies/spawner/enemy_spawner.tscn" id="2_o7w43"]
[ext_resource type="PackedScene" uid="uid://lbaknsn35a0g" path="res://entities/enemies/impl/basic_enemy.tscn" id="3_s5o7a"]
[ext_resource type="PackedScene" uid="uid://br0br7lxdlqwh" path="res://entities/enemies/impl/basic_no_weapon_enemy.tscn" id="4_a6pym"]

[sub_resource type="Shader" id="Shader_al0u2"]
code = "shader_type canvas_item;

uniform vec4 flash_color : source_color = vec4(1.0);

void vertex() {
	// Called for every vertex the material is visible on.
}

void fragment() {
	COLOR = mix(COLOR, flash_color, COLOR.a * flash_color.a);
	// Called for every pixel the material is visible on.
}

//void light() {
	// Called for every pixel for every light affecting the CanvasItem.
	// Uncomment to replace the default light processing function with this one.
//}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ulkr3"]
resource_local_to_scene = true
shader = SubResource("Shader_al0u2")
shader_parameter/flash_color = Color(1, 1, 1, 0)

[sub_resource type="Shader" id="Shader_iq2n0"]
code = "shader_type canvas_item;

uniform vec4 flash_color : source_color = vec4(1.0);

void vertex() {
	// Called for every vertex the material is visible on.
}

void fragment() {
	COLOR = mix(COLOR, flash_color, COLOR.a * flash_color.a);
	// Called for every pixel the material is visible on.
}

//void light() {
	// Called for every pixel for every light affecting the CanvasItem.
	// Uncomment to replace the default light processing function with this one.
//}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_kctw8"]
resource_local_to_scene = true
shader = SubResource("Shader_iq2n0")
shader_parameter/flash_color = Color(1, 1, 1, 0)

[node name="world" type="Node2D"]

[node name="CharacterBody2D" parent="." instance=ExtResource("1_40l4n")]
position = Vector2(55, 219)

[node name="EnemySpawner" parent="CharacterBody2D" instance=ExtResource("2_o7w43")]
spawn_interval = 2.0
spawn_count = 1
spawn_distance_max = 900

[node name="Enemies" parent="." instance=ExtResource("3_s5o7a")]
material = SubResource("ShaderMaterial_ulkr3")
position = Vector2(-338, -122)

[node name="Enemies2" parent="." instance=ExtResource("4_a6pym")]
material = SubResource("ShaderMaterial_kctw8")
position = Vector2(-421, 125)

[node name="HealthComponent" parent="Enemies2" index="2"]
max_hp = 200
initial_hp = 200

[editable path="Enemies2"]
